(this["webpackJsonptord-test"]=this["webpackJsonptord-test"]||[]).push([[0],{19:function(e,t,c){},21:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(2),i=c.n(n),a=c(8),r=c.n(a),s=(c(19),c(6)),o=c.n(s),l=c(9),d=c(5),u=(c(21),c(4)),j=c(3),m="topMenu/SET_CATEGORY_LIST",O="topMenu/SELECT_CATEGORY",b="topMenu/SET_SELECTED_ITEM",p="topMenu/DEL_SELECTED_ITEM",v="topMenu/CLEAR_SELECTED_ITEM",f=function(e){return{type:b,payload:e}},x={cateList:[],selectedId:""};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(j.a)(Object(j.a)({},e),{},{cateList:t.payload.slice()});case O:return Object(j.a)(Object(j.a)({},e),{},{selectedId:t.payload});case b:var c=t.payload,n=e.cateList.filter((function(e){return e.categoryItems.map((function(e){return e.itemId===c?e.selected=!0:e}))}));return Object(j.a)(Object(j.a)({},e),{},{cateList:n});case p:c=t.payload,n=e.cateList.filter((function(e){return e.categoryItems.filter((function(e){return e.itemId===c?e.selected=!1:e}))}));return Object(j.a)(Object(j.a)({},e),{},{cateList:n});case v:return Object(j.a)(Object(j.a)({},e),{},{caetList:e.cateList.filter((function(e){return e.categoryItems.map((function(e){return e.selected=!1,e}))}))});default:return e}},I=c(1);var g=function(e){var t=e.cateList,c=(e.selectedId,e.onSelect),i=Object(n.useRef)(null),a=function(e){e.stopPropagation(),c(e.currentTarget.dataset.id)};return Object(I.jsxs)("div",{className:"topmenu-box",children:[Object(I.jsx)("div",{className:"topmenu-cate-list",ref:i,children:t.map((function(e,t){return Object(I.jsx)("a",{className:0===t?"active":"","data-id":"cate_".concat(e.categoryId),onClick:a,href:"#cate_".concat(e.categoryId),children:e.categoryName},e.categoryId)}))}),Object(I.jsx)("div",{className:"topmenu-table-info",children:Object(I.jsxs)("div",{className:"table",children:[Object(I.jsx)("div",{children:"\uc8fc\ubb38\uc804\ud654 02-123-4567"}),Object(I.jsx)("div",{children:"\ub0e0\ub0e0\ud53c\uc790"})]})})]})};var N=function(){var e=Object(u.c)((function(e){return e.topMenu})),t=e.cateList,c=e.selectedId,n=Object(u.b)();return Object(I.jsx)(g,{cateList:t,selectedId:c,onSelect:function(e){n(function(e){return{type:O,payload:e}}(e))}})},L="itemList/SET_SELECTED_ITEM",y="itemList/CHECK_OPTION",C="itemList/UNCHECK_OPTION",E="itemList/CHECK_OPTION_ALL",k={selectedItem:null};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{selectedItem:t.payload?Object(j.a)({},t.payload):null};case y:return{selectedItem:e.selectedItem?Object(j.a)(Object(j.a)({},e.selectedItem),{},{itemOptions:e.selectedItem.itemOptions.map((function(e,c){return e.optionId===t.payload?e.check=!0:0===Number(e.optionId)&&(e.check=!1),e}))}):null};case C:return{selectedItem:e.selectedItem?Object(j.a)(Object(j.a)({},e.selectedItem),{},{itemOptions:e.selectedItem.itemOptions.map((function(e){return e.optionId===t.payload&&(e.check=!1),e}))}):null};case E:return{selectedItem:e.selectedItem?Object(j.a)(Object(j.a)({},e.selectedItem),{},{itemOptions:e.selectedItem.itemOptions.map((function(e,t){return e.check=0===t,e}))}):null};default:return e}};var T=function(e){var t=e.itemInfo,c=e.categoryId,i=e.onItemClick,a=Object(n.useContext)(le);return Object(I.jsxs)("div",{className:"item-box",onClick:function(){t.itemSoldOutFlag?a.toggleMessage("\ud488\uc808\ub41c \uc0c1\ud488\uc785\ub2c8\ub2e4."):t.selected?a.toggleMessage("\uc774\ubbf8 \ucd94\uac00\ub41c \uc0c1\ud488\uc785\ub2c8\ub2e4."):i({itemId:t.itemId,categoryId:c})},children:[Object(I.jsxs)("div",{className:"imgbox",children:[Object(I.jsx)("img",{className:"pic ".concat(t.itemSoldOutFlag||t.selected?"dark":""),src:t.itemImageUrl}),t.itemSoldOutFlag?Object(I.jsx)("div",{className:"soldout",children:"\ud488\uc808"}):null,t.selected?Object(I.jsx)("div",{className:"added",children:"\ucd94\uac00\uc644\ub8cc"}):null]}),Object(I.jsxs)("div",{className:"info",children:[Object(I.jsx)("div",{children:t.itemName}),Object(I.jsx)("div",{children:t.itemPrice.toLocaleString()})]})]})};var P=function(e){var t=e.cateList,c=e.onItemClick,i=Object(n.useRef)(null);return Object(n.useEffect)((function(){i.current.onscroll=function(){var e=i.current.querySelectorAll("div.title[id]"),t=i.current.scrollTop,c=i.current.scrollHeight;if(t+i.current.offsetHeight+30>=c){var n;null===(n=document.querySelector(".topmenu-cate-list a.active"))||void 0===n||n.classList.remove("active");var a=document.querySelector(".topmenu-cate-list a[data-id]:last-child");null===a||void 0===a||a.classList.add("active")}else for(var r=0;r<e.length;r++){var s=e[r];if(s.offsetTop-200<=t){var o;null===(o=document.querySelector(".topmenu-cate-list a.active"))||void 0===o||o.classList.remove("active");var l=document.querySelector(".topmenu-cate-list a[data-id=".concat(s.id,"]"));null===l||void 0===l||l.classList.add("active")}}}}),[]),Object(I.jsx)("div",{id:"itemListBox",className:"itemList-box",ref:i,children:Object(I.jsx)("div",{className:"wrapper",children:t.map((function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"title",id:"cate_".concat(e.categoryId),children:e.categoryName}),Object(I.jsx)("section",{children:e.categoryItems.map((function(t){return Object(I.jsx)(T,{itemInfo:t,categoryId:e.categoryId,onItemClick:c},t.itemId)}))})]},e.categoryId)}))})})},_="cart/SET_SHOW_CART",M="cart/ADD_ITEM",w="cart/DEL_ITEM",D="cart/ADD_ITEM_AMOUNT",A="cart/DEL_ITEM_AMOUNT",R="cart/CLEAR_CART_ITEMS",q=function(e){return{type:M,payload:e}},F={show:!1,cartItemList:[]};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(j.a)(Object(j.a)({},e),{},{show:t.payload});case M:return Object(j.a)(Object(j.a)({},e),{},{cartItemList:e.cartItemList.concat(t.payload)});case w:return Object(j.a)(Object(j.a)({},e),{},{cartItemList:e.cartItemList.filter((function(e){return e.itemId!==t.payload}))});case D:return Object(j.a)(Object(j.a)({},e),{},{cartItemList:e.cartItemList.map((function(e){return e.itemId===t.payload&&e.amount++,Object(j.a)({},e)}))});case A:return Object(j.a)(Object(j.a)({},e),{},{cartItemList:e.cartItemList.map((function(e){return e.itemId===t.payload&&e.amount--,Object(j.a)({},e)}))});case R:return Object(j.a)(Object(j.a)({},e),{},{cartItemList:[]});default:return e}};var z=function(){var e=Object(n.useContext)(le),t=Object(u.c)((function(e){return e.topMenu})).cateList,c=Object(u.b)(),i=function(e){var c=e.itemId,n=e.categoryId,i=t.filter((function(e){return Number(e.categoryId)===Number(n)}))[0].categoryItems.filter((function(e){return Number(e.itemId)===Number(c)}))[0];return Object(j.a)(Object(j.a)({},i),{},{itemOptions:i.itemOptions.map((function(e,t){return e.check=0===t,e}))})};return Object(I.jsx)(P,{cateList:t,onItemClick:function(t){var n=i(t);if(n.itemOptions.length>0)c(function(e){return{type:L,payload:e}}(n)),e.togglePage("option");else{var a={itemId:n.itemId,itemName:n.itemName,itemPrice:n.itemPrice,optionList:[],amount:1};c(f(n.itemId)),c(q(a)),null===e||void 0===e||e.toggleMessage("\uc0c1\ud488\uc774 \uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}})},B=c(14);var U=function(e){var t=e.onClickCart;return Object(I.jsx)("div",{className:"footer-box",children:Object(I.jsxs)("div",{className:"wrapper",onClick:function(){t()},children:[Object(I.jsx)(B.a,{size:"25",color:"white"}),Object(I.jsx)("div",{children:"\uc7a5\ubc14\uad6c\ub2c8"})]})})},K=c(7);var G=function(e){var t=e.item,c=e.onDeleteItem,i=e.onAddDelClick,a=Object(n.useState)(0),r=Object(d.a)(a,2),s=r[0],o=r[1],l=function(e){var c=e.currentTarget.dataset.name;"del"===c&&1===t.amount||i({id:t.itemId,type:c})};return Object(n.useEffect)((function(){!function(){var e=(t.itemPrice+t.optionList.reduce((function(e,t){return e+t.optionPrice}),0))*t.amount;o(e)}()}),[t]),Object(I.jsxs)("div",{className:"cartItem-box",children:[Object(I.jsxs)("div",{className:"header",children:[Object(I.jsx)("div",{className:"name",children:t.itemName}),Object(I.jsx)("div",{className:"del",onClick:function(){c(t.itemId)},children:"\uc0ad\uc81c"})]}),Object(I.jsxs)("div",{className:"opts",children:[Object(I.jsxs)("div",{className:"txt-box",children:[Object(I.jsx)("div",{className:"txt",children:"\uae30\ubcf8"}),Object(I.jsx)("div",{className:"txt",children:"1\uac1c"}),Object(I.jsxs)("div",{className:"txt",children:[t.itemPrice.toLocaleString(),"\uc6d0"]})]}),t.optionList.map((function(e){return Object(I.jsxs)("div",{className:"added txt-box",children:[Object(I.jsx)("div",{className:"txt",children:e.optionName}),Object(I.jsx)("div",{className:"txt",children:"1\uac1c"}),Object(I.jsxs)("div",{className:"txt",children:[e.optionPrice.toLocaleString(),"\uc6d0"]})]},e.optionId)}))]}),Object(I.jsxs)("div",{className:"amount",children:[Object(I.jsxs)("div",{className:"amt",children:[Object(I.jsx)(K.c,{size:"25","data-name":"add",onClick:l}),Object(I.jsxs)("div",{children:[t.amount,"\uac1c"]}),Object(I.jsx)(K.b,{size:"25","data-name":"del",onClick:l})]}),Object(I.jsxs)("div",{className:"price",children:[s.toLocaleString(),"\uc6d0"]})]})]})};var J=function(e){var t=e.onClose,c=e.cartItemList,i=e.onOrder,a=e.onDeleteItem,r=e.onAddDelClick,s=Object(n.useContext)(le),o=Object(n.useRef)(null),l=Object(n.useState)(0),u=Object(d.a)(l,2),j=u[0],m=u[1];return Object(n.useEffect)((function(){!function(){var e,t=[];c.forEach((function(e){var c=(e.itemPrice+e.optionList.reduce((function(e,t){return e+t.optionPrice}),0))*e.amount;t.push(c)})),e=t.reduce((function(e,t){return e+t}),0),m(e)}()}),[c]),Object(n.useEffect)((function(){o.current.classList.add("show")}),[]),Object(I.jsxs)("div",{className:"cart-box",ref:o,children:[Object(I.jsx)("div",{className:"title",children:"\uc7a5\ubc14\uad6c\ub2c8"}),Object(I.jsx)("div",{className:"item-wrapper",children:c.map((function(e){return Object(I.jsx)(G,{item:e,onDeleteItem:a,onAddDelClick:r},e.itemId)}))}),Object(I.jsxs)("div",{className:"cart-footer",children:[Object(I.jsxs)("div",{className:"total-box",children:[Object(I.jsxs)("div",{children:["\ucd1d ",c.length,"\uac00\uc9c0"]}),Object(I.jsxs)("div",{className:"price",children:["\ud569\uacc4 ",Object(I.jsxs)("span",{children:[j.toLocaleString(),"\uc6d0"]})]})]}),Object(I.jsxs)("div",{className:"button-box",children:[Object(I.jsx)("div",{onClick:function(){t()},children:"\ub2eb\uae30"}),Object(I.jsx)("div",{onClick:function(){0===c.length?null===s||void 0===s||s.toggleMessage("\uc8fc\ubb38\ud560 \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):i()},children:"\uc8fc\ubb38\ud558\uae30"})]})]})]})};var Y=function(e){var t=e.onClose,c=Object(n.useContext)(le),i=Object(u.c)((function(e){return e.cart})).cartItemList,a=Object(u.b)();return Object(I.jsx)(J,{onClose:t,cartItemList:i,onOrder:function(){a({type:v}),a({type:R}),c.toggleMessage("\uc8fc\ubb38\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t()},onDeleteItem:function(e){a(function(e){return{type:p,payload:e}}(e)),a(function(e){return{type:w,payload:e}}(e))},onAddDelClick:function(e){var t=e.id,c=e.type;a("add"===c?function(e){return{type:D,payload:e}}(t):function(e){return{type:A,payload:e}}(t))}})};var W=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],i=t[1],a=function(e){var t=document.querySelector("#itemListBox");null===t||void 0===t||t.classList.toggle("shrink"),i(e)};return Object(I.jsxs)("div",{className:"main-page",children:[Object(I.jsx)(N,{}),Object(I.jsx)(z,{}),Object(I.jsx)(U,{onClickCart:function(){a(!0)}}),c?Object(I.jsx)(Y,{onClose:function(){a(!1)}}):null]})},X="option/CLEAR_ADDED_OPTIONS",Q="option/ADD_OPTION",V="option/DEL_OPTION",Z=function(){return{type:X}},$={addedOptionList:[]};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{addedOptionList:[]};case Q:return{addedOptionList:e.addedOptionList.concat(Object(j.a)({},t.payload))};case V:return{addedOptionList:e.addedOptionList.filter((function(e){return e.optionId!==t.payload}))};default:return e}};var te=function(e){var t=e.option,c=e.itemId,n=e.onClickOption;return Object(I.jsxs)("div",{className:"option-box ".concat(t.check?"active":""),onClick:function(){n({optId:t.optionId,check:t.check,itemId:c})},children:[Object(I.jsxs)("div",{className:"head",children:[t.check?Object(I.jsx)(K.a,{size:"25",color:"#00a800"}):Object(I.jsx)(K.a,{size:"25",color:"#bcbcbc"}),Object(I.jsx)("div",{className:"name",children:t.optionName})]}),t.optionId+""==="0"?null:Object(I.jsxs)("div",{children:["+",t.optionPrice.toLocaleString(),"\uc6d0"]})]})};var ce=function(e){var t=e.optionList,c=e.itemId,n=e.onClickOption;return Object(I.jsxs)("div",{className:"optionList-box",children:[Object(I.jsx)("div",{className:"desc",children:"*20\uac1c\uae4c\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),Object(I.jsx)("div",{className:"wrapper",children:t.map((function(e){return Object(I.jsx)(te,{itemId:c,option:e,onClickOption:n},e.optionId)}))})]})};var ne=function(e){var t=e.item,c=Object(u.c)((function(e){return e.topMenu.cateList})),n=Object(u.b)();return Object(I.jsx)(ce,{optionList:t.itemOptions,itemId:t.itemId,onClickOption:function(e){var t=e.itemId,i=e.check,a=e.optId;if(a+""==="0")n(Z()),n({type:E});else if(i)n(function(e){return{type:C,payload:e}}(a)),n(function(e){return{type:V,payload:e}}(a));else{for(var r=null,s=0;s<c.length;s++){var o=c[s].categoryItems.filter((function(e){return e.itemId===t}));if(o.length>0){var l=o[0].itemOptions.filter((function(e){return e.optionId===a}));l.length>0&&(r=l[0])}}n({type:Q,payload:r}),n(function(e){return{type:y,payload:e}}(a))}}})};var ie=function(e){var t=e.item,c=e.addedOptionList,i=e.onPutItem,a=Object(n.useState)(0),r=Object(d.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){var e=c.reduce((function(e,t){return e+t.optionPrice}),0);o(e+t.itemPrice)}),[c]),Object(I.jsxs)("div",{className:"addedList-box",children:[Object(I.jsxs)("div",{className:"list-wrapper",children:[Object(I.jsx)("div",{className:"title",children:t.itemName}),Object(I.jsxs)("div",{className:"item",style:{color:"black"},children:[Object(I.jsx)("div",{children:"\uae30\ubcf8\uac00\uaca9"}),Object(I.jsxs)("div",{children:[t.itemPrice.toLocaleString(),"\uc6d0"]})]}),Object(I.jsx)("div",{className:"opt-box",children:c.map((function(e){return Object(I.jsxs)("div",{className:"item",children:[Object(I.jsxs)("div",{children:["+",e.optionName]}),Object(I.jsxs)("div",{children:[e.optionPrice.toLocaleString(),"\uc6d0"]})]},e.optionId)}))})]}),Object(I.jsxs)("div",{className:"footer",children:[Object(I.jsxs)("div",{className:"info",children:[Object(I.jsx)("div",{className:"txt",children:"\ud569\uacc4"}),Object(I.jsxs)("div",{className:"total",children:[s.toLocaleString(),"\uc6d0"]})]}),Object(I.jsx)("div",{className:"cart-btn",onClick:function(){i({item:t,addedOptionList:c})},children:"\uc7a5\ubc14\uad6c\ub2c8 \ub2f4\uae30"})]})]})};var ae=function(){var e=Object(n.useContext)(le),t=Object(u.c)((function(e){return e})),c=[t.option.addedOptionList,t.itemList.selectedItem],i=c[0],a=c[1],r=Object(u.b)();return Object(I.jsx)(ie,{item:a,addedOptionList:i,onPutItem:function(t){var c=t.item,n=t.addedOptionList,i={itemId:c.itemId,itemName:c.itemName,itemPrice:c.itemPrice,optionList:n,amount:1};r(f(c.itemId)),r(q(i)),r(Z()),null===e||void 0===e||e.toggleMessage("\uc0c1\ud488\uc774 \uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),null===e||void 0===e||e.togglePage("main")}})};var re=function(){var e=Object(n.useContext)(le),t=Object(u.c)((function(e){return e.itemList.selectedItem})),c=Object(u.b)();return Object(I.jsx)("div",{className:"option-page",children:Object(I.jsxs)("div",{className:"wrapper",children:[Object(I.jsxs)("div",{className:"header",children:[Object(I.jsx)("div",{className:"title",children:null===t||void 0===t?void 0:t.itemName}),Object(I.jsx)("div",{className:"close",onClick:function(){c(Z()),e.togglePage("main")},children:"X \ub2eb\uae30"})]}),Object(I.jsxs)("div",{className:"content-wrapper",children:[Object(I.jsx)(ne,{item:t}),Object(I.jsx)(ae,{})]})]})})};var se=function(e){var t=e.msg,c=Object(n.useContext)(le);return Object(n.useEffect)((function(){setTimeout((function(){return null===c||void 0===c?void 0:c.toggleMessage()}),3500)}),[]),Object(I.jsx)("div",{className:"message-box",children:t})},oe={request:function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(200===(c=e.sent).status){e.next=6;break}throw new Error("\ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.");case 6:return e.abrupt("return",c.json());case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},le=Object(n.createContext)(null);var de=function(){var e=Object(u.b)(),t=Object(n.useState)(!0),c=Object(d.a)(t,2),i=c[0],a=c[1],r=Object(n.useState)({show:!1,msg:""}),s=Object(d.a)(r,2),j=s[0],O=s[1],b=function(){var t=Object(l.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.request("mock.json");case 2:c=t.sent,e((n=c.categories,{type:m,payload:n}));case 4:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(I.jsx)(le.Provider,{value:{togglePage:function(e){a("main"===e)},toggleMessage:function(e){O({show:!!e,msg:e||""})}},children:Object(I.jsxs)("div",{className:"App",children:[i?Object(I.jsx)(W,{}):Object(I.jsx)(re,{}),j.show?Object(I.jsx)(se,{msg:j.msg}):null]})})},ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,28)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))},je=c(10),me=Object(je.a)({topMenu:h,itemList:S,cart:H,option:ee}),Oe=Object(je.b)(me);r.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(u.a,{store:Oe,children:Object(I.jsx)(de,{})})}),document.getElementById("root")),ue()}},[[27,1,2]]]);
//# sourceMappingURL=main.4eae725f.chunk.js.map